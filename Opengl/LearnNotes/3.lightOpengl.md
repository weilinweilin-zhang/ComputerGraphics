# 光照
## 颜色
### 一个着色器的生命周期
因为里面调用函数都直接拿gpu里面的数据，当有多个着色器的时候，怎么分别资源管理的呢

想必使用的时候，就用这个进行切换的吧
![ ](image-28.png)
回答:
``` 
glUseProgram 是不是把当前gpu资源切换成当前的着色器program，然后就可以调用不同着色器内部的参数
是的，`glUseProgram` 函数在OpenGL中确实起到了切换当前使用的着色器程序的作用。当你调用 `glUseProgram` 时，它会将指定的着色器程序设为当前活动的程序。从该调用开始，到下一个调用 `glUseProgram` 之前，所有的渲染调用将使用这个着色器程序。
一旦一个着色器程序被设置为当前活动程序，你就可以使用 OpenGL 提供的函数来设置这个程序中的uniform变量等参数。这包括但不限于：
- `glUniform1f`, `glUniform2f`, `glUniform3f`, `glUniform4f` 等，用于设置浮点类型的uniform变量。
- `glUniform1i`, `glUniform2i`, `glUniform3i`, `glUniform4i` 等，用于设置整数类型的uniform变量。
- `glUniformMatrix2fv`, `glUniformMatrix3fv`, `glUniformMatrix4fv` 等，用于设置矩阵类型的uniform变量。
- `glBindAttribLocation` 和 `glGetAttribLocation` 用于设置和获取attribute的位置。
```

### 光照颜色
也就是 光照的颜色，乘以当前物体的颜色，就是混合起来，并且作用于当前的物体就是结果色，但是后续应该还要考虑距离的问题
```
glm::vec3 lightColor(1.0f, 1.0f, 1.0f);
glm::vec3 toyColor(1.0f, 0.5f, 0.31f);
glm::vec3 result = lightColor * toyColor; // = (1.0f, 0.5f, 0.31f);
```


### 基础光照
#### 环境光照
Ambient Lighting)：即使在黑暗的情况下，世界上通常也仍然有一些光亮（月亮、远处的光），所以物体几乎永远不会是完全黑暗的。为了模拟这个，我们会使用一个环境光照常量，它永远会给物体一些颜色。
像代码里面直接就乘以一个外面的颜色值，就类似全局照明模型了。
（真正的全局照明算法 比较复杂 考虑到这种情况的算法叫做全局照明(Global Illumination)算法，但是这种算法既开销高昂又极其复杂。）

#### 漫反射光照
(Diffuse Lighting)：模拟光源对物体的方向性影响(Directional Impact)。它是风氏光照模型中视觉上最显著的分量。物体的某一部分越是正对着光源，它就会越亮
![alt text](image-29.png)

这个是入光的向量，和反射的向量呈现余弦值，所以两向量垂直的时候是没有光线的，两向量角度为0的时候，亮度最亮

漫反射的条件：
```
计算漫反射光照需要什么？
法向量：一个垂直于顶点表面的向量。
定向的光线：作为光源的位置与片段的位置之间向量差的方向向量。为了计算这个光线，我们需要光的位置向量和片段的位置向量。
```

#### 镜面光照
Specular Lighting)：模拟有光泽物体上面出现的亮点。镜面光照的颜色相比于物体的颜色会更倾向于光的颜色。
#### phong模型


## phong 模型
phong 模型 包括环境光照，漫反射光照，镜面光照

### 漫反射光照
